<div class="container mt-5">
  <h2>Manage Permissions</h2>
  <div class="row">
    <div class="col-md-4" *ngFor="let rolePermission of (rolePermissions$ | async)">
      <div class="card">
        <div class="card-header">
          <h5>{{ rolePermission.role | titlecase }}</h5>
        </div>
        <div class="card-body">
          <form>
            <div class="form-check">
              <input
                class="form-check-input"
                type="checkbox"
                id="{{ rolePermission.role }}-create"
                [(ngModel)]="rolePermission.canCreate"
                (change)="onPermissionChange(rolePermission.role, $event)"
                name="canCreate"
              />
              <label class="form-check-label" for="{{ rolePermission.role }}-create">Can Create</label>
            </div>
            <div class="form-check">
              <input
                class="form-check-input"
                type="checkbox"
                id="{{ rolePermission.role }}-read"
                [(ngModel)]="rolePermission.canRead"
                (change)="onPermissionChange(rolePermission.role, $event)"
                name="canRead"
              />
              <label class="form-check-label" for="{{ rolePermission.role }}-read">Can Read</label>
            </div>
            <div class="form-check">
              <input
                class="form-check-input"
                type="checkbox"
                id="{{ rolePermission.role }}-update"
                [(ngModel)]="rolePermission.canUpdate"
                (change)="onPermissionChange(rolePermission.role, $event)"
                name="canUpdate"
              />
              <label class="form-check-label" for="{{ rolePermission.role }}-update">Can Update</label>
            </div>
            <div class="form-check">
              <input
                class="form-check-input"
                type="checkbox"
                id="{{ rolePermission.role }}-delete"
                [(ngModel)]="rolePermission.canDelete"
                (change)="onPermissionChange(rolePermission.role, $event)"
                name="canDelete"
              />
              <label class="form-check-label" for="{{ rolePermission.role }}-delete">Can Delete</label>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
